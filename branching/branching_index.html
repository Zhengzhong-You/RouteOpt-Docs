

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="">
    
    
      
        <title>Branching - RouteOpt  documentation</title>
      
    
    
      
        
        
      
      

    
    
    
      
        
        
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
        <link rel="stylesheet" type="text/css" href="../_static/sphinx_immaterial_theme.02cb18745d09eea51.min.css?v=ff456132" />
        <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
        <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=ae161c19" />
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="blue">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="RouteOpt  documentation" class="md-header__button md-logo" aria-label="RouteOpt  documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            RouteOpt  documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Branching
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="green" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Zhengzhong-You/RouteOpt" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    RouteOpt
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="RouteOpt  documentation" class="md-nav__button md-logo" aria-label="RouteOpt  documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>
    </a>
    RouteOpt  documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Zhengzhong-You/RouteOpt" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    RouteOpt
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../get_started/start_index.html" class="md-nav__link">
        <span title="/get_started/start_index.rst (reference label)" class="md-ellipsis">Get Started</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../common/config.html" class="md-nav__link">
        <span title="/common/config.rst (reference label)" class="md-ellipsis">Route<wbr>Opt Core Macros, Constants, and Utilities</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../common/solver.html" class="md-nav__link">
        <span title="/common/solver.rst (reference label)" class="md-ellipsis">Solver Interface</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../rank1_cuts/r1c_index.html" class="md-nav__link">
        <span title="/rank1_cuts/r1c_index.rst (reference label)" class="md-ellipsis">Rank-<wbr>1 Cuts</span>
      </a>
    </li>
  

    
      
      
      

  
  
  
  
    <li class="md-nav__item">
      <a href="../rounded_cap_cuts/rcc_index.html" class="md-nav__link">
        <span title="/rounded_cap_cuts/rcc_index.rst (reference label)" class="md-ellipsis">Rounded Capacity Cuts</span>
      </a>
    </li>
  

    
      
      
      

  
  
    
  
    
  
    
    <li class="md-nav__item md-nav__item--active md-nav__current-nested md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
        
        <div class="md-nav__link md-nav__link--index md-nav__link--active">
          <a href="#"><span title="/branching/branching_index.rst (reference label)" class="md-ellipsis">Branching</span></a>
          
            <label for="__nav_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Branching" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          <span title="/branching/branching_index.rst (reference label)" class="md-ellipsis">Branching</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="common.html" class="md-nav__link">
        <span title="/branching/common.rst (reference label)" class="md-ellipsis">Common Header</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="bbt.html" class="md-nav__link">
        <span title="/branching/bbt.rst (reference label)" class="md-ellipsis">Branch and Bound Tree</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="workflow.html" class="md-nav__link">
        <span title="/branching/workflow.rst (reference label)" class="md-ellipsis">Workflow</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="bkf.html" class="md-nav__link">
        <span title="/branching/bkf.rst (reference label)" class="md-ellipsis">Best K Formula</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="candidate_selector.html" class="md-nav__link">
        <span title="/branching/candidate_selector.rst (reference label)" class="md-ellipsis">Candidate Selector</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  
      
    <li class="md-nav__item md-nav__item--active md-nav__current-toc">
      
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          <span title="/branching/branching_index.rst (reference label)" class="md-ellipsis">Branching</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="#" class="md-nav__link md-nav__link--active">
        <span title="/branching/branching_index.rst (reference label)" class="md-ellipsis">Branching</span>
      </a>
      
        

<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="common.html" class="md-nav__link">
    <span title="/branching/common.rst (reference label)" class="md-ellipsis">Common Header</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="bbt.html" class="md-nav__link">
    <span title="/branching/bbt.rst (reference label)" class="md-ellipsis">Branch and Bound Tree</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="workflow.html" class="md-nav__link">
    <span title="/branching/workflow.rst (reference label)" class="md-ellipsis">Workflow</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="bkf.html" class="md-nav__link">
    <span title="/branching/bkf.rst (reference label)" class="md-ellipsis">Best K Formula</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="candidate_selector.html" class="md-nav__link">
    <span title="/branching/candidate_selector.rst (reference label)" class="md-ellipsis">Candidate Selector</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span title="/branching/branching_index.rst#overview (reference label)" class="md-ellipsis">Overview</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-cvrp-main-cpp-review" class="md-nav__link">
    <span title="/branching/branching_index.rst#example-cvrp-main-cpp-review (reference label)" class="md-ellipsis">Example:<wbr> CVRP Main.<wbr>cpp Review</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explanation" class="md-nav__link">
    <span title="/branching/branching_index.rst#explanation (reference label)" class="md-ellipsis">Explanation</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    <span title="/branching/branching_index.rst#further-reading (reference label)" class="md-ellipsis">Further Reading</span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span title="/branching/branching_index.rst#overview (reference label)" class="md-ellipsis">Overview</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-cvrp-main-cpp-review" class="md-nav__link">
    <span title="/branching/branching_index.rst#example-cvrp-main-cpp-review (reference label)" class="md-ellipsis">Example:<wbr> CVRP Main.<wbr>cpp Review</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explanation" class="md-nav__link">
    <span title="/branching/branching_index.rst#explanation (reference label)" class="md-ellipsis">Explanation</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    <span title="/branching/branching_index.rst#further-reading (reference label)" class="md-ellipsis">Further Reading</span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" role="main">
                  


<h1 id="branching">Branching<a class="headerlink" href="#branching" title="Link to this heading">¶</a></h1>
<p>This is probably the most sophisticated module in the whole project.
Do not worry—we will go step by step and see what is going on. By the end of this section,
you will understand the key components of the branching module and be able to build your solver with the branching module integrated.</p>
<p>For more information on the branching module details, please refer to the following sections. I
highly recommend you to read the overview first, then the example, and finally the explanation in this page. Then
go back to the details of the following branching module.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="common.html">Common Header</a></li>
<li class="toctree-l1"><a class="reference internal" href="bbt.html">Branch and Bound Tree</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="bkf.html">Best K Formula</a></li>
<li class="toctree-l1"><a class="reference internal" href="candidate_selector.html">Candidate Selector</a></li>
</ul>
</div>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p>The Branching module handles the branch-and-bound procedures within RouteOpt. It manages the exploration of nodes, candidate selection via LP testing, heuristic testing, exact testing by default, and the integration of BKF <span id="id1">[<a class="reference internal" href="common.html#id3" title="Zhengzhong You, Yu Yang, Xinshang Wang, and Wotao Yin. Two-stage learning to branch in branch-price-and-cut algorithms for solving vehicle routing problems exactly. Available at SSRN 4630549, 2023.">You <em>et al.</em>, 2023</a>]</span> for achieving best trade off between testing time and candidate quality. The default branching strategy is 3PB, where:</p>
<ul class="simple">
<li><p><strong>Phase 0:</strong> Initial screening</p></li>
<li><p><strong>Phase 1:</strong> LP testing</p></li>
<li><p><strong>Phase 2:</strong> Heuristic testing</p></li>
<li><p><strong>Phase 3:</strong> Exact testing</p></li>
</ul>
<p>For more details, please refer to <span id="id2">[<a class="reference internal" href="common.html#id3" title="Zhengzhong You, Yu Yang, Xinshang Wang, and Wotao Yin. Two-stage learning to branch in branch-price-and-cut algorithms for solving vehicle routing problems exactly. Available at SSRN 4630549, 2023.">You <em>et al.</em>, 2023</a>, <a class="reference internal" href="../common/config.html#id65" title="Artur Pessoa, Ruslan Sadykov, Eduardo Uchoa, and François Vanderbeck. A generic exact solver for vehicle routing and related problems. Mathematical Programming, 183:483–523, 2020.">Pessoa <em>et al.</em>, 2020</a>]</span>.</p>
<h2 id="example-cvrp-main-cpp-review">Example: CVRP Main.cpp Review<a class="headerlink" href="#example-cvrp-main-cpp-review" title="Link to this heading">¶</a></h2>
<p>The main entry point of the CVRP application is located at: <code class="docutils literal notranslate"><span class="pre">packages/application/cvrp/src/main.cpp</span></code>.</p>
<p>Below is the code for main.cpp:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><code><span class="cm">/*</span>
<span class="cm"> * Copyright (c) 2025 Zhengzhong (Ricky) You.</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> * Software: RouteOpt</span>
<span class="cm"> * License: GPL-3.0</span>
<span class="cm"> *</span>
<span class="cm"> * @file main.cpp</span>
<span class="cm"> * @brief Main entry point for the CVRP application.</span>
<span class="cm"> *</span>
<span class="cm"> * This file contains the main function that initializes and runs the CVRP, or VRPTW solver.</span>
<span class="cm"> * It sets up the branch-and-bound tree controller and handles the overall solving process.</span>
<span class="cm"> */</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;cvrp.hpp&quot;</span><span class="c1">                // CVRP solver header.</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;vrptw.hpp&quot;</span><span class="c1">               // VRPTW solver header.</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;cvrp_macro.hpp&quot;</span><span class="c1">          // Macros specific to CVRP.</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;bbt_controller.hpp&quot;</span><span class="c1">      // Branch-and-bound tree controller.</span>
<span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">RouteOpt</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">Application</span><span class="o">::</span><span class="nn">CVRP</span><span class="p">;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">argv</span><span class="p">[])</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Create an instance of the solver based on the application type.</span>
<span class="w">    </span><span class="c1">// If the application type is CVRP, create a CVRPSolver; otherwise, create a VRPTW solver.</span>
<span class="w">    </span><span class="n">CVRPSolver</span><span class="w"> </span><span class="o">*</span><span class="n">cvrp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">app_type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">APPLICATION_TYPE</span><span class="o">::</span><span class="n">CVRP</span>
<span class="w">                           </span><span class="o">?</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CVRPSolver</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">)</span>
<span class="w">                           </span><span class="o">:</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">VRPTW</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Create a new branch-and-bound node (BbNode) as the root node.</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BbNode</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Define a candidate selection function pointer for machine learning based candidate selection.</span>
<span class="w">    </span><span class="c1">// Initialize to nullptr by default.</span>
<span class="w">    </span><span class="n">CandidateSelectionFuncType</span><span class="w"> </span><span class="n">ml_candidate_selection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// If machine learning is enabled (ml_type is not ML_NO_USE), set the candidate selection function.</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="p">(</span><span class="n">ml_type</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">ML_TYPE</span><span class="o">::</span><span class="n">ML_NO_USE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ml_candidate_selection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">cvrp</span><span class="p">](</span><span class="k">auto</span><span class="w"> </span><span class="n">arg1</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">arg2</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">arg3</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">arg4</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">cvrp</span><span class="o">-&gt;</span><span class="n">callMLCandidateSelection</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span><span class="w"> </span><span class="n">arg2</span><span class="p">,</span><span class="w"> </span><span class="n">arg3</span><span class="p">,</span><span class="w"> </span><span class="n">arg4</span><span class="p">);</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Define an output function pointer for writing nodes.</span>
<span class="w">    </span><span class="n">OutNodeFuncType</span><span class="w"> </span><span class="n">node_out_func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// If the configuration enables writing node outputs, set the function accordingly.</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="p">(</span><span class="n">IF_WRITE_NODE_OUT</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">node_out_func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">cvrp</span><span class="p">](</span><span class="k">auto</span><span class="w"> </span><span class="n">arg1</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">arg2</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">arg3</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">cvrp</span><span class="o">-&gt;</span><span class="n">callWriteNodeOut</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span><span class="w"> </span><span class="n">arg2</span><span class="p">,</span><span class="w"> </span><span class="n">arg3</span><span class="p">);</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Define a function for reading node information.</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">node_in_func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">cvrp</span><span class="p">](</span><span class="k">auto</span><span class="w"> </span><span class="n">arg1</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">arg2</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">arg3</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">cvrp</span><span class="o">-&gt;</span><span class="n">callReadNodeIn</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span><span class="w"> </span><span class="n">arg2</span><span class="p">,</span><span class="w"> </span><span class="n">arg3</span><span class="p">);</span>
<span class="w">    </span><span class="p">};</span>

<span class="w">    </span><span class="c1">// Create an instance of the Branch-and-Bound Tree (BBT) Controller.</span>
<span class="w">    </span><span class="c1">// The controller is templated with:</span>
<span class="w">    </span><span class="c1">//   - BbNode: the type for branch-and-bound nodes.</span>
<span class="w">    </span><span class="c1">//   - std::pair&lt;int, int&gt;: the type for branching candidates.</span>
<span class="w">    </span><span class="c1">//   - PairHasher: hash function for branching candidates.</span>
<span class="w">    </span><span class="n">Branching</span><span class="o">::</span><span class="n">BBT</span><span class="o">::</span><span class="n">BBTController</span><span class="o">&lt;</span><span class="n">BbNode</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">PairHasher</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bbt_controller</span><span class="p">{</span>
<span class="w">        </span><span class="n">cvrp</span><span class="o">-&gt;</span><span class="n">getDim</span><span class="p">(),</span><span class="w"> </span><span class="c1">// Problem/Instance dimension.</span>
<span class="w">        </span><span class="n">cvrp</span><span class="o">-&gt;</span><span class="n">refUB</span><span class="p">(),</span><span class="w"> </span><span class="c1">// Reference to the current upper bound.</span>
<span class="w">        </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">NUM_TESTING</span><span class="o">::</span><span class="n">PHASE0</span><span class="p">),</span><span class="w"> </span><span class="c1">// Number of output candidates for phase 0.</span>
<span class="w">        </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">NUM_TESTING</span><span class="o">::</span><span class="n">PHASE1</span><span class="p">),</span><span class="w"> </span><span class="c1">// Number of output candidates for phase 1.</span>
<span class="w">        </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">NUM_TESTING</span><span class="o">::</span><span class="n">PHASE2</span><span class="p">),</span><span class="w"> </span><span class="c1">// Number of output candidates for phase 2.</span>
<span class="w">        </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">NUM_TESTING</span><span class="o">::</span><span class="n">PHASE3</span><span class="p">),</span><span class="w"> </span><span class="c1">// Number of output candidates for phase 3.</span>
<span class="w">        </span><span class="n">IF_BKF</span>
<span class="w">            </span><span class="o">?</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;</span><span class="p">{</span>
<span class="w">                </span><span class="p">{</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">BKF_TYPE</span><span class="o">::</span><span class="n">M_LP</span><span class="p">),</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">BKF_TYPE</span><span class="o">::</span><span class="n">N_LP</span><span class="p">)},</span>
<span class="w">                </span><span class="p">{</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">BKF_TYPE</span><span class="o">::</span><span class="n">M_HEUR</span><span class="p">),</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">BKF_TYPE</span><span class="o">::</span><span class="n">N_HEUR</span><span class="p">)}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="o">:</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&gt;</span><span class="p">{},</span><span class="w"> </span><span class="c1">// BKF parameters if BKF is enabled.</span>
<span class="w">        </span><span class="n">BbNode</span><span class="o">::</span><span class="n">defineBetterNode</span><span class="p">,</span><span class="w"> </span><span class="c1">// Function to compare nodes.</span>
<span class="w">        </span><span class="n">BbNode</span><span class="o">::</span><span class="n">getNodeValue</span><span class="p">,</span><span class="w"> </span><span class="c1">// Function to extract node value.</span>
<span class="w">        </span><span class="n">BbNode</span><span class="o">::</span><span class="n">getNodeIdx</span><span class="p">,</span><span class="w"> </span><span class="c1">// Function to extract node index.</span>
<span class="w">        </span><span class="n">BbNode</span><span class="o">::</span><span class="n">getNodeIfInEnumState</span><span class="p">,</span><span class="w"> </span><span class="c1">// Function to check node enumeration state.</span>
<span class="w">        </span><span class="n">BbNode</span><span class="o">::</span><span class="n">getLastBrc</span><span class="p">,</span><span class="w"> </span><span class="c1">// Function to get the last branching candidate.</span>
<span class="w">        </span><span class="n">BbNode</span><span class="o">::</span><span class="n">refNodeBrIncreaseVal</span><span class="p">,</span><span class="w"> </span><span class="c1">// Function to reference node branching increase value.</span>
<span class="w">        </span><span class="n">BbNode</span><span class="o">::</span><span class="n">getNodeIfTerminate</span><span class="p">,</span><span class="w"> </span><span class="c1">// Function to check if node is terminated.</span>
<span class="w">        </span><span class="n">BbNode</span><span class="o">::</span><span class="n">obtainSolEdgeMap</span><span class="p">,</span><span class="w"> </span><span class="c1">// Function to obtain solution edge map.</span>
<span class="w">        </span><span class="c1">// LP testing function for processing LP testing.</span>
<span class="w">        </span><span class="p">[</span><span class="n">cvrp</span><span class="p">](</span><span class="k">auto</span><span class="w"> </span><span class="n">arg1</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">arg2</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">arg3</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">arg4</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">decltype</span><span class="p">(</span><span class="k">auto</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">cvrp</span><span class="o">-&gt;</span><span class="n">processLPTesting</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span><span class="w"> </span><span class="n">arg2</span><span class="p">,</span><span class="w"> </span><span class="n">arg3</span><span class="p">,</span><span class="w"> </span><span class="n">arg4</span><span class="p">);</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="c1">// Heuristic testing function.</span>
<span class="w">        </span><span class="p">[</span><span class="n">cvrp</span><span class="p">](</span><span class="k">auto</span><span class="w"> </span><span class="n">arg1</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">arg2</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">arg3</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">arg4</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">decltype</span><span class="p">(</span><span class="k">auto</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">cvrp</span><span class="o">-&gt;</span><span class="n">processCGTesting</span><span class="o">&lt;</span><span class="nb">false</span><span class="o">&gt;</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span><span class="w"> </span><span class="n">arg2</span><span class="p">,</span><span class="w"> </span><span class="n">arg3</span><span class="p">,</span><span class="w"> </span><span class="n">arg4</span><span class="p">);</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="c1">// Exact testing function.</span>
<span class="w">        </span><span class="p">[</span><span class="n">cvrp</span><span class="p">](</span><span class="k">auto</span><span class="w"> </span><span class="n">arg1</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">arg2</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">arg3</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">arg4</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">decltype</span><span class="p">(</span><span class="k">auto</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">cvrp</span><span class="o">-&gt;</span><span class="n">processCGTesting</span><span class="o">&lt;</span><span class="nb">true</span><span class="o">&gt;</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span><span class="w"> </span><span class="n">arg2</span><span class="p">,</span><span class="w"> </span><span class="n">arg3</span><span class="p">,</span><span class="w"> </span><span class="n">arg4</span><span class="p">);</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="c1">// Function to perform pricing at the beginning of processing a node.</span>
<span class="w">        </span><span class="p">[</span><span class="n">cvrp</span><span class="p">](</span><span class="k">auto</span><span class="w"> </span><span class="n">arg1</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">decltype</span><span class="p">(</span><span class="k">auto</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">cvrp</span><span class="o">-&gt;</span><span class="n">callPricingAtBeg</span><span class="p">(</span><span class="n">arg1</span><span class="p">);</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="c1">// Function to perform cutting on a node.</span>
<span class="w">        </span><span class="p">[</span><span class="n">cvrp</span><span class="p">](</span><span class="k">auto</span><span class="w"> </span><span class="n">arg1</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">decltype</span><span class="p">(</span><span class="k">auto</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">cvrp</span><span class="o">-&gt;</span><span class="n">callCutting</span><span class="p">(</span><span class="n">arg1</span><span class="p">);</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="c1">// Function to impose a branching decision on a node, generating child nodes.</span>
<span class="w">        </span><span class="p">[</span><span class="n">cvrp</span><span class="p">](</span><span class="k">auto</span><span class="w"> </span><span class="n">arg1</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">arg2</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">arg3</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">decltype</span><span class="p">(</span><span class="k">auto</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">cvrp</span><span class="o">-&gt;</span><span class="n">imposeBranching</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span><span class="w"> </span><span class="n">arg2</span><span class="p">,</span><span class="w"> </span><span class="n">arg3</span><span class="p">);</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="c1">// Self-Defined Branching Selection Function (e.g., 2LBB).</span>
<span class="w">        </span><span class="n">ml_candidate_selection</span><span class="p">,</span>
<span class="w">        </span><span class="c1">// Node output function for writing nodes to external storage.</span>
<span class="w">        </span><span class="n">node_out_func</span><span class="p">,</span>
<span class="w">        </span><span class="c1">// Node input function for reading node information.</span>
<span class="w">        </span><span class="n">node_in_func</span>
<span class="w">    </span><span class="p">};</span>

<span class="w">    </span><span class="c1">// Solve the branch-and-bound tree starting from the root node.</span>
<span class="w">    </span><span class="n">bbt_controller</span><span class="p">.</span><span class="n">solve</span><span class="p">(</span><span class="n">node</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// After solving, print the optimal solution along with statistics:</span>
<span class="w">    </span><span class="c1">// number of nodes explored and the lower bound of the solution.</span>
<span class="w">    </span><span class="n">cvrp</span><span class="o">-&gt;</span><span class="n">printOptSol</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">,</span><span class="w"> </span><span class="n">bbt_controller</span><span class="p">.</span><span class="n">getNumNodesExplored</span><span class="p">(),</span><span class="w"> </span><span class="n">bbt_controller</span><span class="p">.</span><span class="n">getLowerBound</span><span class="p">());</span>

<span class="w">    </span><span class="c1">// Clean up: delete the solver instance.</span>
<span class="w">    </span><span class="k">delete</span><span class="w"> </span><span class="n">cvrp</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>
<h2 id="explanation">Explanation<a class="headerlink" href="#explanation" title="Link to this heading">¶</a></h2>
<ol class="arabic">
<li><p><strong>BBTController Initialization:</strong></p>
<ul>
<li><p><strong>Template Parameters:</strong>
The controller is instantiated with the following template parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>BbNode:</strong> Node type for branch-and-bound.</p></li>
<li><p><strong>std::pair&lt;int, int&gt;:</strong> Branching candidate type.</p></li>
<li><p><strong>PairHasher:</strong> Hash function for the candidate type.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Phase Parameters:</strong>
The parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>static_cast&lt;int&gt;(NUM_TESTING::PHASE0)</cite></p></li>
<li><p><cite>static_cast&lt;int&gt;(NUM_TESTING::PHASE1)</cite></p></li>
<li><p><cite>static_cast&lt;int&gt;(NUM_TESTING::PHASE2)</cite></p></li>
<li><p><cite>static_cast&lt;int&gt;(NUM_TESTING::PHASE3)</cite></p></li>
</ul>
</div></blockquote>
<p>represent the number of output candidates for each phase. In the default 3PB strategy:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Phase 0:</strong> Initial screening.</p></li>
<li><p><strong>Phase 1:</strong> LP testing.</p></li>
<li><p><strong>Phase 2:</strong> Heuristic testing.</p></li>
<li><p><strong>Phase 3:</strong> Exact testing.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</li>
<li><p><strong>BKF Parameters:</strong></p>
<p>If BKF (Branching Kernel Functions) are enabled (<cite>IF_BKF</cite> is true), a vector of pairs is passed:</p>
<ul class="simple">
<li><p>Each pair represents BKF parameters: the first integer is the M value and the second is the N value.</p></li>
<li><p>An empty vector indicates that BKF is not used.</p></li>
</ul>
</li>
<li><p><strong>Node Functions:</strong></p>
<p>A set of static functions from <strong>BbNode</strong> are provided:</p>
<ul class="simple">
<li><p><strong>defineBetterNode:</strong> Sorts nodes based on a criterion (e.g., its local lower bound).</p></li>
<li><p><strong>getNodeValue:</strong> Returns the node’s value (e.g., its local lower bound).</p></li>
<li><p><strong>getNodeIdx:</strong> Returns a unique node identifier.</p></li>
<li><p><strong>getNodeIfInEnumState:</strong> Checks if the node is in an enumeration state <span id="id3">[<a class="reference internal" href="#id72" title="Roberto Baldacci, Nicos Christofides, and Aristide Mingozzi. An exact algorithm for the vehicle routing problem based on the set partitioning formulation with additional cuts. Mathematical Programming, 115:351–385, 2008.">Baldacci <em>et al.</em>, 2008</a>]</span> (i.e., all necessary columns are enumerated).</p></li>
<li><p><strong>getLastBrc:</strong> Retrieves the last branching candidate for improvement calculation.</p></li>
<li><p><strong>refNodeBrIncreaseVal:</strong> References the node’s branching increase value.</p></li>
<li><p><strong>getNodeIfTerminate:</strong> Determines if the node is terminated (infeasible or optimal).</p></li>
<li><p><strong>obtainSolEdgeMap:</strong> Gets the solution candidate (edge in this case) map for fractional candidate generation.</p></li>
</ul>
</li>
<li><p><strong>Testing Functions:</strong></p>
<p>The controller is also provided with functions for processing testing:</p>
<ul class="simple">
<li><p><strong>LP Testing Function:</strong>
Invokes <cite>processLPTesting</cite> on the solver.</p></li>
<li><p><strong>Heuristic Testing Function:</strong>
Invokes <cite>processCGTesting&lt;false&gt;</cite> on the solver.</p></li>
<li><p><strong>Exact Testing Function:</strong>
Invokes <cite>processCGTesting&lt;true&gt;</cite> on the solver.</p></li>
</ul>
<p>These functions take a node and candidate as inputs and output the improvement in objective value for the left and right LPs relative to the current node.</p>
</li>
<li><p><strong>Pricing, Cutting, and Branching:</strong></p>
<p>Additional functions provided include:</p>
<ul class="simple">
<li><p><strong>Pricing Function:</strong> Called at the beginning of node processing.</p></li>
<li><p><strong>Cutting Function:</strong> Applies cutting on a node.</p></li>
<li><p><strong>Impose Branching Function:</strong> Generates child nodes by applying a branching decision.</p></li>
</ul>
</li>
<li><p><strong>Self-Defined Branching Selection and I/O Functions:</strong></p>
<ul class="simple">
<li><p><strong>Self-Defined Branching Selection Function:</strong>
Allows for custom branching strategies (e.g., 2LBB).</p></li>
<li><p><strong>Node Output Function:</strong>
For writing node information to external storage.</p></li>
<li><p><strong>Node Input Function:</strong>
For reading node information from external storage.</p></li>
</ul>
</li>
<li><p><strong>Execution Flow:</strong></p>
<ul class="simple">
<li><p>The <cite>solve</cite> function is called to process the branch-and-bound tree starting from the root node.</p></li>
<li><p>After solving, the optimal solution and statistics (nodes explored, lower bound) are printed.</p></li>
<li><p>Finally, the solver instance is deleted.</p></li>
</ul>
</li>
</ol>
<h2 id="further-reading">Further Reading<a class="headerlink" href="#further-reading" title="Link to this heading">¶</a></h2>
<p>For more detailed information, please refer to:</p>
<div class="docutils container" id="id4">
<div role="list" class="citation-list">
<div class="citation" id="id72" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">BCM08</a><span class="fn-bracket">]</span></span>
<p>Roberto Baldacci, Nicos Christofides, and Aristide Mingozzi. An exact algorithm for the vehicle routing problem based on the set partitioning formulation with additional cuts. <em>Mathematical Programming</em>, 115:351–385, 2008.</p>
</div>
<div class="citation" id="id66" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">PSUV20</a><span class="fn-bracket">]</span></span>
<p>Artur Pessoa, Ruslan Sadykov, Eduardo Uchoa, and François Vanderbeck. A generic exact solver for vehicle routing and related problems. <em>Mathematical Programming</em>, 183:483–523, 2020.</p>
</div>
<div class="citation" id="id5" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>YYWY23<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id1">1</a>,<a role="doc-backlink" href="#id2">2</a>)</span>
<p>Zhengzhong You, Yu Yang, Xinshang Wang, and Wotao Yin. Two-stage learning to branch in branch-price-and-cut algorithms for solving vehicle routing problems exactly. <em>Available at SSRN 4630549</em>, 2023.</p>
</div>
</div>
</div>






                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../rounded_cap_cuts/calculate_coefficients.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: RCCs: Coefficient Getter" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              RCCs: Coefficient Getter
            </div>
          </div>
        </a>
      
      
        
        <a href="common.html" class="md-footer__link md-footer__link--next" aria-label="Next: Common Header" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Common Header
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  
  
  <div class="md-footer-meta md-typeset">
    
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-footer-copyright__highlight">
        &#169; Copyright 2025, Zhengzhong (Ricky) You.
        
    </div>
  
    Created using
    <a href="https://www.sphinx-doc.org/" target="_blank" rel="noopener">Sphinx</a>
    7.4.7.
     and
    <a href="https://github.com/jbms/sphinx-immaterial/" target="_blank" rel="noopener">Sphinx-Immaterial</a>
  
</div>
      
    </div>
    
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand", "navigation.top"], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
      
        <script src="../_static/sphinx_immaterial_theme.f9d9eeeb247ace16c.min.js?v=8ec58cb5"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script id="MathJax-script" src="../_static/mathjax/tex-mml-chtml.js?v=cadf963e"></script>
    
  </body>
</html>